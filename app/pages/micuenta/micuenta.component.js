"use strict";
var core_1 = require("@angular/core");
var router_1 = require("@angular/router");
var page_1 = require("ui/page");
var modal_dialog_1 = require("nativescript-angular/modal-dialog");
var user_model_1 = require("../../model/user.model");
var forms_1 = require("@angular/forms");
var MicuentaComponent = (function () {
    function MicuentaComponent(router, usr, page, vcRef, _modalService, fb) {
        this.router = router;
        this.usr = usr;
        this.page = page;
        this.vcRef = vcRef;
        this._modalService = _modalService;
        this.user = { name: ' ' };
        this.valor_inicial = "1";
        this._fb = fb;
    }
    MicuentaComponent.prototype.ngOnInit = function () {
        var _this = this;
        //this.page.actionBarHidden = true;
        this.page.actionBar.title = "Mi Cuenta";
        this.form = this._fb.group({
            name: [null, [forms_1.Validators.required, forms_1.Validators.maxLength(128)]],
            fecha: [null, [forms_1.Validators.required, forms_1.Validators.maxLength(255)]]
        });
        this.usr.fetch().then(function (usuario) {
            if (usuario) {
                _this.user = usuario;
                _this.form.reset(_this.user);
                console.log("Usuario => ", JSON.stringify(_this.user));
            }
        });
    };
    MicuentaComponent = __decorate([
        core_1.Component({
            selector: "my-app",
            providers: [],
            templateUrl: "pages/micuenta/micuenta.html",
            styleUrls: ["pages/micuenta/css/micuenta.css"]
        }), 
        __metadata('design:paramtypes', [router_1.Router, user_model_1.UserModel, page_1.Page, core_1.ViewContainerRef, modal_dialog_1.ModalDialogService, forms_1.FormBuilder])
    ], MicuentaComponent);
    return MicuentaComponent;
}());
exports.MicuentaComponent = MicuentaComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWljdWVudGEuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWljdWVudGEuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQkFBeUUsZUFBZSxDQUFDLENBQUE7QUFDekYsdUJBQXFCLGlCQUFpQixDQUFDLENBQUE7QUFDdkMscUJBQW1CLFNBQVMsQ0FBQyxDQUFBO0FBSTdCLDZCQUFxRCxtQ0FBbUMsQ0FBQyxDQUFBO0FBR3pGLDJCQUF3Qix3QkFBd0IsQ0FBQyxDQUFBO0FBQ2pELHNCQUFpRCxnQkFBZ0IsQ0FBQyxDQUFBO0FBU2xFO0lBTUksMkJBQW9CLE1BQWMsRUFBVSxHQUFjLEVBQVUsSUFBVSxFQUFVLEtBQXVCLEVBQVUsYUFBaUMsRUFBRSxFQUFlO1FBQXZKLFdBQU0sR0FBTixNQUFNLENBQVE7UUFBVSxRQUFHLEdBQUgsR0FBRyxDQUFXO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBTTtRQUFVLFVBQUssR0FBTCxLQUFLLENBQWtCO1FBQVUsa0JBQWEsR0FBYixhQUFhLENBQW9CO1FBTG5KLFNBQUksR0FBUSxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUMsQ0FBQztRQUcvQixrQkFBYSxHQUFXLEdBQUcsQ0FBQztRQUd4QixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsb0NBQVEsR0FBUjtRQUFBLGlCQWVDO1FBZEcsbUNBQW1DO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUM7UUFDeEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUN2QixJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsRUFBRSxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzlELEtBQUssRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLGtCQUFVLENBQUMsUUFBUSxFQUFFLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDbEUsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQSxPQUFPO1lBQ3pCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsS0FBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7Z0JBQ3BCLEtBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBL0JMO1FBQUMsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxRQUFRO1lBQ2xCLFNBQVMsRUFBRSxFQUFFO1lBQ2IsV0FBVyxFQUFFLDhCQUE4QjtZQUMzQyxTQUFTLEVBQUUsQ0FBQyxpQ0FBaUMsQ0FBQztTQUNqRCxDQUFDOzt5QkFBQTtJQTBFRix3QkFBQztBQUFELENBQUMsQUF6RUQsSUF5RUM7QUF6RVkseUJBQWlCLG9CQXlFN0IsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBPbkluaXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgVmlld0NvbnRhaW5lclJlZn0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7Um91dGVyfSBmcm9tIFwiQGFuZ3VsYXIvcm91dGVyXCI7XG5pbXBvcnQge1BhZ2V9IGZyb20gXCJ1aS9wYWdlXCI7XG5pbXBvcnQge0xhYmVsfSBmcm9tIFwidWkvbGFiZWxcIjtcbmltcG9ydCB7QW5pbWF0aW9uQ3VydmV9IGZyb20gXCJ1aS9lbnVtc1wiO1xuaW1wb3J0IHtEYXRlUGlja2VyfSBmcm9tIFwidWkvZGF0ZS1waWNrZXJcIjtcbmltcG9ydCB7TW9kYWxEaWFsb2dTZXJ2aWNlLCBNb2RhbERpYWxvZ09wdGlvbnN9IGZyb20gXCJuYXRpdmVzY3JpcHQtYW5ndWxhci9tb2RhbC1kaWFsb2dcIjtcbmltcG9ydCB7RGF0ZXBpY2tlckNvbXBvbmVudH0gZnJvbSBcIi4uL21vZGFscy9kYXRlcGlja2VyL2RhdGUtcGlja2VyXCI7XG5pbXBvcnQge01hcGFDb21wb25lbnR9IGZyb20gXCIuLi9tb2RhbHMvbWFwYS9tYXBhLmNvbXBvbmVudFwiO1xuaW1wb3J0IHtVc2VyTW9kZWx9IGZyb20gXCIuLi8uLi9tb2RlbC91c2VyLm1vZGVsXCI7XG5pbXBvcnQge0Zvcm1Hcm91cCwgRm9ybUJ1aWxkZXIsIFZhbGlkYXRvcnN9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xuaW1wb3J0IG1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnRcIik7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiBcIm15LWFwcFwiLFxuICAgIHByb3ZpZGVyczogW10sXG4gICAgdGVtcGxhdGVVcmw6IFwicGFnZXMvbWljdWVudGEvbWljdWVudGEuaHRtbFwiLFxuICAgIHN0eWxlVXJsczogW1wicGFnZXMvbWljdWVudGEvY3NzL21pY3VlbnRhLmNzc1wiXVxufSlcbmV4cG9ydCBjbGFzcyBNaWN1ZW50YUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgcHVibGljIHVzZXI6IGFueSA9IHtuYW1lOiAnICd9O1xuICAgIGZvcm06IEZvcm1Hcm91cDtcbiAgICBwcm90ZWN0ZWQgX2ZiOiBGb3JtQnVpbGRlcjtcbiAgICB2YWxvcl9pbmljaWFsOiBzdHJpbmcgPSBcIjFcIjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsIHByaXZhdGUgdXNyOiBVc2VyTW9kZWwsIHByaXZhdGUgcGFnZTogUGFnZSwgcHJpdmF0ZSB2Y1JlZjogVmlld0NvbnRhaW5lclJlZiwgcHJpdmF0ZSBfbW9kYWxTZXJ2aWNlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGZiOiBGb3JtQnVpbGRlcikge1xuICAgICAgICB0aGlzLl9mYiA9IGZiO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICAvL3RoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJNaSBDdWVudGFcIjtcbiAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5fZmIuZ3JvdXAoe1xuICAgICAgICAgICAgbmFtZTogW251bGwsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1heExlbmd0aCgxMjgpXV0sXG4gICAgICAgICAgICBmZWNoYTogW251bGwsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1heExlbmd0aCgyNTUpXV1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXNyLmZldGNoKCkudGhlbih1c3VhcmlvID0+IHtcbiAgICAgICAgICAgIGlmICh1c3VhcmlvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyID0gdXN1YXJpbztcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVzZXQodGhpcy51c2VyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gPT4gXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMudXNlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qY29uZmlndXJlKGRhdGVQaWNrZXI6IERhdGVQaWNrZXIpIHtcbiAgICAgICAgZGF0ZVBpY2tlci55ZWFyID0gMTk4MDtcbiAgICAgICAgZGF0ZVBpY2tlci5tb250aCA9IDI7XG4gICAgICAgIGRhdGVQaWNrZXIuZGF5ID0gOTtcbiAgICAgICAgZGF0ZVBpY2tlci5taW5EYXRlID0gbmV3IERhdGUoMTk3NSwgMCwgMjkpO1xuICAgICAgICBkYXRlUGlja2VyLm1heERhdGUgPSBuZXcgRGF0ZSgyMDQ1LCA0LCAxMik7XG4gICAgfVxuXG4gICAgbW9kYWxQaWNrZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibW9kYWxwSUNLRVJcIik7XG4gICAgICAgIGxldCBvcHRpb25zOiBNb2RhbERpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICB2aWV3Q29udGFpbmVyUmVmOiB0aGlzLnZjUmVmLFxuICAgICAgICAgICAgZnVsbHNjcmVlbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgLy8gPj4gcmV0dXJuaW5nLXJlc3VsdFxuICAgICAgICB0aGlzLl9tb2RhbFNlcnZpY2Uuc2hvd01vZGFsKERhdGVwaWNrZXJDb21wb25lbnQsIG9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbigoZGF0ZXJlc3VsdDogRGF0ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGZlY2hhID0gbmV3IERhdGUoZGF0ZXJlc3VsdCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZlY2hhIDEyM1wiLGZlY2hhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmVjaGEgPT4gXCIsbW9tZW50KGZlY2hhLCBcIk1NLURELVlZWVlcIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5nZXQoJ2ZlY2hhJykuc2V0VmFsdWUobW9tZW50KGRhdGVyZXN1bHQpLmZvcm1hdCgnREQvTU0vWVlZWScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGd1YXJkYXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibW9kYWxwSUNLRVJcIik7XG4gICAgICAgIGxldCBvcHRpb25zOiBNb2RhbERpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICB2aWV3Q29udGFpbmVyUmVmOiB0aGlzLnZjUmVmLFxuICAgICAgICAgICAgZnVsbHNjcmVlbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgLy8gPj4gcmV0dXJuaW5nLXJlc3VsdFxuICAgICAgICB0aGlzLl9tb2RhbFNlcnZpY2Uuc2hvd01vZGFsKE1hcGFDb21wb25lbnQsIG9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbigoZGF0ZXJlc3VsdDogRGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGF0ZSByZXN1bHQgXCIgKyBkYXRlcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRhcChsYmwpIHtcbiAgICAgICAgdmFyIGxhYmVsOiBMYWJlbCA9IDxMYWJlbD4gdGhpcy5wYWdlLmdldFZpZXdCeUlkKGxibCk7XG4gICAgICAgIGxhYmVsLmFuaW1hdGUoe1xuICAgICAgICAgICAgdHJhbnNsYXRlOiB7eDogMCwgeTogLTE1fSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICBjdXJ2ZTogQW5pbWF0aW9uQ3VydmUuY3ViaWNCZXppZXIoMC4xLCAwLjEsIDAuMSwgMSlcbiAgICAgICAgfSk7XG4gICAgfSovXG5cbn0iXX0=